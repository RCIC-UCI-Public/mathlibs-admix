# Builds the module for gsl.
!include gsl.yaml
!include rcic-module.yaml
---
- package: gsl Module
  pkgname: "{{name}}_{{version}}_{{compiler}}_{{compiler_version}}-module"
  category: LIBRARIES
  release: 2
  modinstdir: "{{pkg_defaults.module.RCICmpath}}/{{category}}/{{name}}"
  specs: "{{compiler}}.{{compiler_version}}"
  module:
    name: "{{specs}}"
    logname: "{{name}}/{{version}}/{{specs}}"
    path: "{{modinstdir}}/{{version}}"
    setenv:
      - GSL_HOME {{root}}
    prereq:
      - "{{compiler}}/{{compiler_version}}"
    prepend_path:
      - "{{ pkg_defaults.module.prepend_path }}"
      - -d  " " CPPFLAGS -I{{root}}/include
      - -d  " " LDFLAGS -Wl,-rpath,{{root}}/lib 
      - -d  " " LDFLAGS -L{{root}}/lib
  requires:
    - "{{name}}_{{version}}_{{compiler}}_{{compiler_version}}"
    - rcic-module-support
  files:
    - "{{modinstdir}}"
