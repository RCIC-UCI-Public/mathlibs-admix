# Builds the module for gsl. It first includes all the definitions
# for the gsl build and then overwrites specific keys
!include gsl.yaml
!include /opt/rcic/include/rcic-module.yaml
---
- package: gsl Module
  pkgname: "{{ name }}_{{version}}_{{ compiler }}_{{ compiler_version }}-module"
  category: LIBRARIES
  no_src_dir: True
  release: 2
  src_tarball: none
  module:
    name: "{{ compiler }}.{{ compiler_version }}"
    path: "{{ pkg_defaults.module.RCICmpath }}/{{category}}/{{ name }}/{{ version }}"
    prepend_path:
      - "{{ pkg_defaults.module.prepend_path }}"
    setenv:
      - GSL_HOME {{ root }}
    prereq:
      - "{{ compiler }}/{{ compiler_version }}"
  requires:
    - "{{ name }}_{{ version }}_{{ compiler }}_{{compiler_version}}"
    - rcic-module-support
